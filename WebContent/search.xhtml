<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui">

<h:head>

	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta name="description" content="" />
	<meta name="author" content="" />

	<title>Tabloid Proteome</title>


	<!-- Bootstrap Core CSS -->
	<link href="/tabloidproteome/resources/css/bootstrap.min.css"
		rel="stylesheet" />

	<!-- Custom CSS -->
	<link href="/tabloidproteome/resources/css/bootstrap.css"
		rel="stylesheet" />

	<script src="http://code.jquery.com/jquery-2.1.4.min.js"
		type="text/javascript"></script>


	<link href="/tabloidproteome/resources/css/custom.css" rel="stylesheet" />
	<link href="/tabloidproteome/resources/css/sticky-footer.css"
		rel="stylesheet" />
	<link
		href="/tabloidproteome/resources/css/bootstrap-table-expandable.css"
		rel="stylesheet" />
	<link
		href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap3-dialog/1.34.7/css/bootstrap-dialog.min.css"
		rel="stylesheet" />
	<link rel="stylesheet"
		href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />

	<!-- Bootstrap Core JavaScript -->
	<script src="/tabloidproteome/resources/js/bootstrap.min.js"></script>

	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap3-dialog/1.34.7/js/bootstrap-dialog.min.js"
		type="text/javascript"></script>  
    <script src="https://rawgit.com/agershun/alasql/develop/dist/alasql.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.8.0/xlsx.full.min.js"></script>
	<style>
  
body {
	padding-top: 70px;
	/* Required padding for .navbar-fixed-top. Remove if using .navbar-static-top. Change if height of navigation changes. */
}
</style>

	<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-96922635-1', 'auto');
  ga('send', 'pageview');

</script>
	<script type="text/javascript">

	function searchSingle(){
		if($('#singleAccession').val() != ""){
			if(($('#singleAccession').val().startsWith("P") &#124;&#124; $('#singleAccession').val().startsWith("O") &#124;&#124; 
				$('#singleAccession').val().startsWith("Q") &#124;&#124; $('#singleAccession').val().startsWith("A")) 
				&amp;&amp; $('#singleAccession').val().length == 6){
				window.location = '/tabloidproteome/dataTable.xhtml?accession='+ $('#singleAccession').val()
	    		+ '&amp;jaccard=' + $('#jaccardSingle').val();
		
			}else{
				passSingleProteinNameToJSFManagedBean ([ {
                    name : 'protein1',
                    value :  document.getElementById("singleAccession").value
                   },
                   {
                       name : 'jacc',
                       value :  document.getElementById("jaccardSingle").value
                      },
                   {
                      name : 'protein2',
                      value :  ''
                   }
                 ]);
				
			}
    		
    	}else{
            var dialogInstance = new BootstrapDialog();
            dialogInstance.setTitle('INPUT ERROR');
            dialogInstance.setMessage('Accession cannot be empty!');
            dialogInstance.setType(BootstrapDialog.TYPE_DANGER);
            dialogInstance.open();
    	}
		return false;
	}
    
	function searchDouble(){
		if($('#doubleAccession1').val() != ""  &amp;&amp; $('#doubleAccession2').val() != "" ){
			
			if(($('#doubleAccession1').val().startsWith("P") &#124;&#124; $('#doubleAccession1').val().startsWith("Q")
			&#124;&#124; $('#doubleAccession1').val().startsWith("O") &#124;&#124; $('#doubleAccession1').val().startsWith("A")) 
			&amp;&amp; $('#doubleAccession1').val().length() == 6
			  &amp;&amp; ($('#doubleAccession2').val().startsWith("P") &#124;&#124; $('#doubleAccession2').val().startsWith("Q")
			  &#124;&#124; $('#doubleAccession2').val().startsWith("O")&#124;&#124; $('#doubleAccession2').val().startsWith("A")) &amp;&amp; $('#doubleAccession2').val().length == 6
			){
				window.location = '/tabloidproteome/dataTable.xhtml?accession1=' + $('#doubleAccession1').val()
	        	+ '&amp;accession2=' + $('#doubleAccession2').val() + '&amp;jaccard=' + $('#jaccardDouble').val();
		
			}else{
				passDoubleProteinNameToJSFManagedBean ([ {
                    name : 'protein1',
                    value :  document.getElementById("doubleAccession1").value
                   },
                   {
                       name : 'jacc',
                       value :  document.getElementById("jaccardDouble").value
                      },
                   {
                      name : 'protein2',
                      value : document.getElementById("doubleAccession2").value
                   }
                 ]);
				
			}
			
			
    		
    	}else{
    		var dialogInstance = new BootstrapDialog();
            dialogInstance.setTitle('INPUT ERROR');
            dialogInstance.setMessage('Accessions cannot be empty!');
            dialogInstance.setType(BootstrapDialog.TYPE_DANGER);
            dialogInstance.open();
    	}
		return false;
	}
	
	function searchMultipleProtein(){
		var array1 = [];
		var array2 = [];
		var array3 = [];
		//gets table
		var oTable = document.getElementById('oneToOneTable');

		//gets rows of table
		var rowLength = oTable.rows.length;

		//loops through rows    
		for (i = 0; i &lt; rowLength; i++){
		   //gets cells of current row
		   var oCells = oTable.rows.item(i).cells;

		   //gets amount of cells of current row
		   var cellLength = oCells.length;

		   //loops through each cell in current row
		   for(var j = 0; j &lt; cellLength; j += 3){
			   array1.push(oCells.item(j).innerHTML);
			   array2.push(oCells.item(j+1).innerHTML);
			   array3.push(oCells.item(j+2).innerHTML);
		   }
		   
		}

		if(array1.length != 0){
			passProteinsJSONToJSFManagedBean ([ {
                name : 'array1',
                value :  array1
            },
            {
                name : 'array2',
                value :  array2
             },
             {
                name : 'array3',
                value :  array3
             },
             {
                name : 'jacc',
                value :  document.getElementById("jaccardOneToOne").value
             }
             ]);
		}else{
			var dialogInstance = new BootstrapDialog();
            dialogInstance.setTitle('INPUT ERROR');
            dialogInstance.setMessage('Please upload CSV file that contains protein pairs!');
            dialogInstance.setType(BootstrapDialog.TYPE_DANGER);
            dialogInstance.open();
		}
	}
	
    function searchGene(selection){
    	if(selection == "single"){
    		if($('#geneId').val() != ""){
    			passGeneToJSFManagedBean ([ {
                    name : 'gene',
                    value :  document.getElementById("geneId").value
                   }
                 ]);
    		}else{
    			var dialogInstance = new BootstrapDialog();
                dialogInstance.setTitle('INPUT ERROR');
                dialogInstance.setMessage('Gene name/id cannot be empty!');
                dialogInstance.setType(BootstrapDialog.TYPE_DANGER);
                dialogInstance.open();
    		}
    		
    	}else if(selection == "double"){
    		if($('#geneId1').val() != ""  &amp;&amp; $('#geneId2').val() != "" ){
    			passGeneDoubleToJSFManagedBean ([ {
                    name : 'gene',
                    value :  document.getElementById("geneId1").value + "," + document.getElementById("geneId2").value
                   }
                 ]);
    		}else{
    			var dialogInstance = new BootstrapDialog();
                dialogInstance.setTitle('INPUT ERROR');
                dialogInstance.setMessage('Gene name/id cannot be empty!');
                dialogInstance.setType(BootstrapDialog.TYPE_DANGER);
                dialogInstance.open();
    		}
    		
    	}
    	 
    
		return false;
    }
    
    function searchPathway(){
    	if($('#pathwayId').val() != ""){
    		passPathwayNameToJSFManagedBean ([ {
                name : 'pathway',
                value :  document.getElementById("pathwayId").value
               }
             ]);
		}else{
			var dialogInstance = new BootstrapDialog();
            dialogInstance.setTitle('INPUT ERROR');
            dialogInstance.setMessage('Pathway name / reactome accession cannot be empty!');
            dialogInstance.setType(BootstrapDialog.TYPE_DANGER);
            dialogInstance.open();
		}
    }
    
    function searchDisease(){
    	if($('#diseaseId').val() != ""){
    		passDiseaseNameToJSFManagedBean ([ {
                name : 'disease',
                value :  document.getElementById("diseaseId").value
               }
             ]);
		}else{
			var dialogInstance = new BootstrapDialog();
            dialogInstance.setTitle('INPUT ERROR');
            dialogInstance.setMessage('Disease name / disGeNet id cannot be empty!');
            dialogInstance.setType(BootstrapDialog.TYPE_DANGER);
            dialogInstance.open();
		}
    }
    
    
    function clickButton1() {
        document.getElementById('btnprotein1').click();
        return false;
    }
    function clickButton2() {
        document.getElementById('btnprotein2').click();
        return false;
    }
    
    function clickButton3() {
    	$('#progressModal').modal('hide');
    	window.location = '/tabloidproteome/detailedSearch.xhtml?pathway';
        return false;
    }
    function clickButton4() {
    	$('#progressModal').modal('hide');
    	window.location = '/tabloidproteome/detailedSearch.xhtml?disease';
        return false;
    }
    function clickButton5() {
    	window.location = '/tabloidproteome/dataTable.xhtml';
        return false;
    }
	function setExampleSingle1() {
		document.getElementById('singleAccession').value = 'Q13330';
		return false;
	}
	
	function setExampleSingle2() {
		document.getElementById('singleAccession').value = 'P08134';
		return false;
	}
	
	function setExampleDouble1() {
		document.getElementById('doubleAccession1').value = 'Q8WXI9';
		document.getElementById('doubleAccession2').value = 'Q12873';
		return false;
	}
	function setExampleDouble2() {
		document.getElementById('doubleAccession1').value = 'Q12873';
		document.getElementById('doubleAccession2').value = 'Q13330';
		return false;
	}
	function setExampleGeneSingle1() {
		document.getElementById('geneId').value = 'MTA1';
		return false;
	}
	
	function setExampleGeneSingle2() {
		document.getElementById('geneId').value = '1107';
		return false;
	}
	
	function setExampleGeneDouble1() {
		document.getElementById('geneId1').value = 'MTA1';
		document.getElementById('geneId2').value = 'CHD3';
		return false;
	}
	function setExampleGeneDouble2() {
		document.getElementById('geneId1').value = 'MTA1';
		document.getElementById('geneId2').value = 'SIN3A';
		return false;
	}
	
	function setExamplePathway1() {
		document.getElementById('pathwayId').value = 'cancer';
		return false;
	}
	
	function setExamplePathway2() {
		document.getElementById('pathwayId').value = 'R-HSA-114604';
		return false;
	}
	
	function setExampleDisease1() {
		document.getElementById('diseaseId').value = 'Invasive Breast Carcinoma';
		return false;
	}
	
	function setExampleDisease2() {
		document.getElementById('diseaseId').value = 'C0853879';
		return false;
	}
</script>
</h:head>

<body>


	<div id="wrapper">
		<!-- Navigation -->
		<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
			<div class="container" id="header">
				<!-- Brand and toggle get grouped for better mobile display -->
				<div class="navbar-header">
					<button type="button" class="navbar-toggle" data-toggle="collapse"
						data-target="#bs-example-navbar-collapse-1">
						<span class="sr-only">Toggle navigation</span> <span
							class="icon-bar"></span> <span class="icon-bar"></span> <span
							class="icon-bar"></span>
					</button>
					<a href="/tabloidproteome/search.xhtml" class="navbar-left"><img
						src="/tabloidproteome/resources/images/logo.png"
						style="width: 70px; height: 54px;" /></a> <a class="navbar-brand"
						href="/tabloidproteome/search.xhtml">Tabloid Proteome</a>
				</div>
				<!-- Collect the nav links, forms, and other content for toggling -->
				<div class="collapse navbar-collapse"
					id="bs-example-navbar-collapse-1">
					<ul class="nav navbar-nav pull-right">
						<li><a href="/tabloidproteome/search.xhtml">Search</a></li>
						<li><a href="/tabloidproteome/dataTable.xhtml#">Data
								Table</a></li>
						<li><a href="/tabloidproteome/help.xhtml">Help</a></li>
					</ul>
				</div>
				<!-- /.navbar-collapse -->
			</div>
			<!-- /.container -->
		</nav>


		<!-- Page Content -->
		<div class="container" id="content">

			<div class="row">
				<div class="col-sm-12">
					<p style="font-size: medium; margin-left: 75px;">
						Tabloid Proteome is a database of protein association network
						generated using publically available mass spectrometry based
						experiments in PRIDE.These associations represent a broad scala 
                        of biological associations between pairs of proteins that goes 
                        well beyond mere binary protein interactions.<a href="/tabloidproteome/information.xhtml">More
							info<i class="glyphicon glyphicon-option-horizontal"></i>
						</a>
					</p>
				</div>
			</div>
			<div class="row">
				<div class="col-sm-3 col-sm-offset-1">
					<ul class="nav nav-pills  nav-stacked">
						<li class="active"><a>Protein Search</a>
							<div style="padding-left: 15px;">
								<br /> <a href="#singleProteinSearch" data-toggle="tab">>
									Single Protein Search</a><br /> <br /> <a
									href="#doubleProteinSearch" data-toggle="tab">> Two Protein
									Search</a><br /> <br />
                                    <a href="#multipleProteinSearch" data-toggle="tab">> Multiple Protein
                                      Search</a><br /> <br />
							</div></li>
						<li><a>Gene Search</a>
							<div style="padding-left: 15px;">
								<br /> <a href="#singleGeneSearch" data-toggle="tab">>
									Single Gene Search</a><br /> <br /> <a href="#doubleGeneSearch"
									data-toggle="tab">> Two Gene Search</a><br /> <br />
							</div></li>
						<li><a href="#pathwaySearch" data-toggle="tab">Pathway
								Search</a></li>
						<li><a href="#diseaseSearch" data-toggle="tab">Disease
								Search</a></li>
					</ul>
				</div>
				<div class="col-sm-6">
					<div class="tab-content" id="tabs">
						<div class="tab-pane active" id="singleProteinSearch">
							<div class="panel panel-default" id="singleSearch"
								style="display: block;">
								<div class="panel-heading text-center">PROTEIN SEARCH</div>
								<div class="panel-body">
									<div>
										<span style="float: right; font-size: 11px;"> <a
											href="#" style="text-decoration: underline; color: #62605E;"
											onclick="setExampleSingle2()">P08134</a></span> <span
											style="float: right; font-size: 11px;"> <a href="#"
											style="text-decoration: underline; color: #62605E;"
											onclick="setExampleSingle1()">Q13330</a>,&#160;
										</span>
									</div>
									<form>
										<div class="input-group col-sm-9 col-sm-offset-1">
											<input type="text" class="form-control"
												placeholder="Uniprot accession or protein name" id="singleAccession" />
										</div>
										<br />
										<div class="input-group col-sm-9 col-sm-offset-1">
											<label class="col-sm-9" style="float: left;">Jaccard
												Similarity Threshold <span
												class="glyphicon glyphicon-question-sign"
												data-toggle="tooltip" data-placement="top"
												title="Jaccard Similarity Threshold should be between 0 and 1. You will get associations which have this Jaccard Similarity Threshold and above." />
											</label> <input type="text" value="0.4" class="col-sm-3"
												id="jaccardSingle" />
										</div>
										<br />
										<div align="center">
											<button type="button" class="btn btn-primary " id="btnSingle"
												style="width: 104px;" onclick="searchSingle()">Search</button>
										</div>
									</form>
								</div>
							</div>
						</div>
						<script>
						$("#singleAccession").keyup(function(event){
					        if(event.keyCode == 13){
					            $("#btnSingle").click();
					        }
					    });
						</script>
						<div class="tab-pane" id="doubleProteinSearch">
							<div class="panel panel-default" id="doubleSearch">
								<div class="panel-heading text-center">PROTEIN SEARCH</div>
								<div class="panel-body">
									<div>
										<span style="float: right; font-size: 11px;"> <a
											href="#" style="text-decoration: underline; color: #62605E;"
											onclick="setExampleDouble2()">#ex2</a></span> <span
											style="float: right; font-size: 11px;"> <a href="#"
											style="text-decoration: underline; color: #62605E;"
											onclick="setExampleDouble1()">#ex1</a>&#160;&#160;
										</span>
									</div>
									<form>
										<div class="input-group input-group col-sm-9 col-sm-offset-1">
											<input type="text" class="form-control"
												placeholder="1st Uniprot accession or protein name" id="doubleAccession1" />
										</div>
										<br />
										<div class="input-group input-group col-sm-9 col-sm-offset-1">
											<input type="text" class="form-control"
												placeholder="2nd Uniprot accession or protein name" id="doubleAccession2" />
										</div>
										<br />
										<div class="input-group col-sm-9 col-sm-offset-1">
											<label class="col-sm-9" style="float: left;">Jaccard
												Similarity Threshold <span
												class="glyphicon glyphicon-question-sign"
												data-toggle="tooltip" data-placement="top"
												title="Jaccard Similarity Threshold should be between 0 and 1. You will get associations which have this Jaccard Similarity Threshold and above." />
											</label> <input type="text" value="0.4" class="col-sm-3"
												id="jaccardDouble" />
										</div>
										<br />
										<div align="center">
											<button type="button" class="btn btn-primary" id="btnDouble"
												style="width: 104px;" onclick="searchDouble()">Search</button>
										</div>
									</form>
								</div>
							</div>
						</div>
						<script>
						$("#doubleAccession1").keyup(function(event){
					        if(event.keyCode == 13){
					            $("#btnDouble").click();
					        }
					    });
					    $("#doubleAccession2").keyup(function(event){
					        if(event.keyCode == 13){
					            $("#btnDouble").click();
					        }
					    });
						</script>
                        <div class="tab-pane" id="multipleProteinSearch">
                          <div class="panel panel-default" id="multipleSearch">
                            <div class="panel-heading text-center">PROTEIN SEARCH</div>
                            <div class="panel-body"> 
                              <button id="addRow"  onClick="insertRow()" class="btn btn-primary" style="display: none">add new row</button>
                              <br/>
                              <div class="wrap" id="oneToOneRegion" style="display: none;">
                                <table class="head" id="oneToOneHeader">
                                  <tr>
                                    <th>1st Uniprot Accession</th>
                                    <th>2nd Uniprot Accession</th>
                                    <th>Edge Annotation</th>
                                  </tr>
                                </table>
                                <div class="inner_table">
                                  <table id="oneToOneTable" class="table table-hover table-striped" style="font-size: 11px; max-height: 35px;">
                                
                                  <tr>
                                    <td><input type="text" style="border:none;" placeholder="Uniprot Accession" disabled="disabled"/></td>
                                    <td><input type="text" style="border:none;" placeholder="Uniprot Accession" disabled="disabled"/></td>
                                    <td><input type="text" style="border:none;" placeholder="Edge Annotation" disabled="disabled"/></td>
                                  </tr>
                                
                                  </table>  
                                </div>
                                <div class="input-group col-sm-9 ">
                                  <label class="col-sm-9" style="float: left;">Jaccard
                                    Similarity Threshold <span
                                    class="glyphicon glyphicon-question-sign"
                                    data-toggle="tooltip" data-placement="top"
                                    title="Jaccard Similarity Threshold should be between 0 and 1. You will get associations which have this Jaccard Similarity Threshold and above." />
                                  </label> 
                                  <input type="text" value="0.4" class="col-sm-3" id="jaccardOneToOne" />
                                </div>
                              </div>
                              <p id="informationOneToOne">Please upload a file that contains protein pairs and edge annotaion (if available) in the following file formats: xls, xlsx, csv.
                              The first two columns should be Uniprot accessions of the proteins. If you have edge annotation, you can add it to the 3rd column.
                              The file should not include any title.</p>
                              <p>Select CSV file to upload:</p>
                              
                              
                              <input id="readfile" type="file" onchange="loadFile(event)" />
                              <script>
        						function loadFile(event) {
        							var table=document.getElementById("oneToOneTable");
        							$("#oneToOneTable tr").remove(); 
        							
	        						alasql('SELECT * FROM FILE(?,{headers:false})',[event],function(data){
	        							for(var obj in data){
	        							  if(data.hasOwnProperty(obj)){
	        							      var headerIndex = 0;
	        							      var row=table.insertRow(table.rows.length);		
	        								  for(var prop in data[obj]){
	        							        if(data[obj].hasOwnProperty(prop)  &amp;&amp; headerIndex &lt; 3 ){
	    	        							   var cell=row.insertCell(headerIndex);
	    	        							   cell.innerHTML=data[obj][prop];
	    	        							   headerIndex++;
	        							        }
	        							      }
	        								  if(headerIndex != 3){
	        									  row.insertCell(headerIndex);
	        								  }
	        							  }   
	        							}
	        							$("#oneToOneRegion").show();
      								  	$("#informationOneToOne").hide();
	        						});
         						}
        						
        						function insertRow(){
                                	
                            		var table=document.getElementById("oneToOneTable");
                                    var row=table.insertRow(table.rows.length);
                                    var cell1=row.insertCell(0);
                                    var t1=document.createElement("input");
                                    t1.style.border = 'none';
                                    t1.placeholder = 'Uniprot Accession';
                                    cell1.appendChild(t1);
                                    var cell2=row.insertCell(1);
                                    var t2=document.createElement("input");
                                    t2.style.border = 'none';
                                    t2.placeholder = 'Uniprot Accession';
                                    cell2.appendChild(t2);
                                    var cell3=row.insertCell(2);
                                    var t3=document.createElement("input");
                                    t3.style.border = 'none';
                                    t3.placeholder = 'Edge Annotation';
                                    cell3.appendChild(t3);

                    			}
                            
    						</script>
                              
                              <br />
                              <div align="center">
                                <button class="btn btn-primary" onclick="searchMultipleProtein()"
                                  style="width: 104px;" >Search</button>
                              </div>
                              
                              
                            </div>
                          </div>
                        </div>
                       
                        <script>
                        
                        
                        
                        </script>
						<div class="tab-pane" id="singleGeneSearch">
							<div class="panel panel-default" id="gene"
								style="display: block;">
								<div class="panel-heading text-center">GENE SEARCH</div>
								<div class="panel-body">
									<div>
                                    
                                    <span
                                      style="float: right; font-size: 11px;"> <a href="#"
                                      style="text-decoration: underline; color: #62605E;"
                                      onclick="setExampleGeneSingle1()">MTA1</a>
                                    </span> 
                                    <span style="float: right; font-size: 11px; color: #62605E;"> Gene Name: &#160; </span> <br/>
										<span style="float: right; font-size: 11px;"> <a
											href="#" style="text-decoration: underline; color: #62605E;"
											onclick="setExampleGeneSingle2()">1107</a></span> 
                                        <span style="float: right; font-size: 11px; color: #62605E;"> Gene Id: &#160; </span>
									</div>
									<form>
										<div class="input-group input-group col-sm-9 col-sm-offset-1">
											<input type="text" class="form-control"
												placeholder="Gene Name or Gene Id" id="geneId" />
										</div>
										<br />
										
										<div align="center">
											<button type="button" class="btn btn-primary" id="btnSingleGene"
												style="width: 104px;" onclick="searchGene('single')">Search</button>
										</div>
									</form>
								</div>
							</div>
						</div>
						<script>
						$("#geneId").keyup(function(event){
					        if(event.keyCode == 13){
					            $("#btnSingleGene").click();
					        }
					    });				   
						</script>
						<div class="tab-pane" id="doubleGeneSearch">
							<div class="panel panel-default" id="gene"
								style="display: block;">
								<div class="panel-heading text-center">GENE SEARCH</div>
								<div class="panel-body">
									<div>
										<span style="float: right; font-size: 11px;"> <a
											href="#" style="text-decoration: underline; color: #62605E;"
											onclick="setExampleGeneDouble2()">#ex2</a></span> <span
											style="float: right; font-size: 11px;"> <a href="#"
											style="text-decoration: underline; color: #62605E;"
											onclick="setExampleGeneDouble1()">#ex1</a>&#160;&#160;
										</span>
									</div>
									<form>
										<div class="input-group input-group col-sm-9 col-sm-offset-1">
											<input type="text" class="form-control"
												placeholder="1st Gene Name or Gene Id" id="geneId1" />
										</div>
										<br />
										<div class="input-group input-group col-sm-9 col-sm-offset-1">
											<input type="text" class="form-control"
												placeholder="2nd Gene Name or Gene Id" id="geneId2" />
										</div>
										<br />
										
										<div align="center">
											<button type="button" class="btn btn-primary" id="btnDoubleGene"
												style="width: 104px;" onclick="searchGene('double')">Search</button>
										</div>
									</form>
								</div>
							</div>
						</div>
						<script>
						$("#geneId1").keyup(function(event){
					        if(event.keyCode == 13){
					            $("#btnDoubleGene").click();
					        }
					    });	
						$("#geneId2").keyup(function(event){
					        if(event.keyCode == 13){
					            $("#btnDoubleGene").click();
					        }
					    });			
						</script>
						<div class="tab-pane" id="pathwaySearch">
							<div class="panel panel-default" id="pathway"
								style="display: block;">
								<div class="panel-heading text-center">PATHWAY SEARCH</div>
								<div class="panel-body">
									<div>
										 <span
											style="float: right; font-size: 11px;"> <a href="#"
											style="text-decoration: underline; color: #62605E;"
											onclick="setExamplePathway1()">cancer</a>
										</span>
                                        <span style="float: right; font-size: 11px; color: #62605E;"> Pathway name: &#160; </span>
                                        
                                        <br/>
                                        <span style="float: right; font-size: 11px;"> <a
                                          href="#" style="text-decoration: underline; color: #62605E;"
                                          onclick="setExamplePathway2()">R-HSA-114604</a></span>
                                        <span style="float: right; font-size: 11px; color: #62605E;"> Reactome accession: &#160; </span>
                                        
									</div>
									<form>
										<div class="input-group input-group col-sm-9 col-sm-offset-1">
											<input type="text" class="form-control"
												placeholder="Reactome accession or pathway name"
												id="pathwayId" />
										</div>
										<br />
										<div align="center">
											<button type="button" class="btn btn-primary" id="btnPathwaySearch"  data-toggle="modal" data-target="#progressModal"
												style="width: 104px;" onclick="searchPathway()">Search</button>
										</div>
									</form>
								</div>
							</div>
						</div>
						<script>
						$("#pathwayId").keyup(function(event){
					        if(event.keyCode == 13){
					            $("#btnPathwaySearch").click();
					        }
					    });			
						</script>
						<div class="tab-pane" id="diseaseSearch">
							<div class="panel panel-default" id="disease"
								style="display: block;">
								<div class="panel-heading text-center">DISEASE SEARCH</div>
								<div class="panel-body">
									<div>
                                        <span
                                          style="float: right; font-size: 11px;"> <a href="#"
                                          style="text-decoration: underline; color: #62605E;"
                                          onclick="setExampleDisease1()">Invasive breast carcinoma</a>
                                        </span>
                                        <span style="float: right; font-size: 11px; color: #62605E;">Disease name: &#160; </span>
                                                                                <br/>
										<span style="float: right; font-size: 11px;"> <a
											href="#" style="text-decoration: underline; color: #62605E;"
											onclick="setExampleDisease2()">C0853879</a></span> 
                                        <span style="float: right; font-size: 11px; color: #62605E;">DisGeNET Id: &#160; </span>
                                        
									</div>
                                    <br/>
									<form>
										<div class="input-group input-group col-sm-9 col-sm-offset-1">
											<input type="text" class="form-control"
												placeholder="DisGeNET id or disease name" id="diseaseId" />
										</div>
										<br />
										<div align="center">
											<button type="button" class="btn btn-primary"  data-toggle="modal" data-target="#progressModal" id="btnDiseaseSearch"
												style="width: 104px;" onclick="searchDisease()">Search</button>
										</div>
									</form>
								</div>
							</div>
						</div>
						<script>
						$("#diseaseId").keyup(function(event){
					        if(event.keyCode == 13){
					            $("#btnDiseaseSearch").click();
					        }
					    });			
						</script>
					</div>
				</div>
			</div>
			<div class="modal fade" id="progressModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
				<div class="modal-dialog" role="document">
					<div class="modal-content">
						<div class="modal-body">
							<button type="button" class="close btn btn-default" aria-label="Close" data-dismiss="modal">
								<span class="glyphicon glyphicon-remove-sign" aria-hidden="true"></span>
							</button>
							<p class="modal-title">Searching...</p>
							<div class="progress">
								<div class="progress-bar progress-bar-striped active"
									role="progressbar" aria-valuenow="45" aria-valuemin="0"
									aria-valuemax="100" style="width: 100%"/>
							</div>
						</div>
					</div>
				</div>
			</div>
			
			<h:form id="newform">
				<p:remoteCommand name="passGeneToJSFManagedBean"
					action="#{controlBean.findProteinsByGene}" process="@this"
					oncomplete="clickButton1();" update=":modalForm:proteinPanel1" />
				<p:remoteCommand name="passGeneDoubleToJSFManagedBean"
					action="#{controlBean.findProteinsByGene}" process="@this"
					oncomplete="clickButton2();" update=":modalForm:proteinPanel2" />
                <p:remoteCommand name="passSingleProteinNameToJSFManagedBean"
					action="#{controlBean.findProteinsByName}" process="@this"
					oncomplete="clickButton1();" update=":modalForm:proteinPanel1" />
                <p:remoteCommand name="passDoubleProteinNameToJSFManagedBean"
                    action="#{controlBean.findProteinsByName}" process="@this"
                    oncomplete="clickButton2();" update=":modalForm:proteinPanel2" />
				<p:remoteCommand name="passPathwayNameToJSFManagedBean"
					action="#{controlBean.findPathwayDTOs}" process="@this"
					oncomplete="clickButton3();" />
				<p:remoteCommand name="passDiseaseNameToJSFManagedBean"
					action="#{controlBean.findDiseaseDTOs}" process="@this"
					oncomplete="clickButton4();" />
                <p:remoteCommand name="passProteinsJSONToJSFManagedBean"
                    action="#{graphDbManagedBean.searchListOfProteins}" process="@this"
                    oncomplete="clickButton5();" />
          
			</h:form>


			<h:form id="modalForm">
				<input type="button" id="btnprotein1" data-toggle="modal"
					data-target="#proteins1" style="display: none;"></input>
				<h:panelGroup layout="block" id="proteinPanel1">
					<div class="modal fade" tabindex="-1" role="dialog" id="proteins1"
						aria-hidden="true">
						<div class="modal-dialog" role="document">

							<div class="modal-content">
								<div class="modal-body">
									<button type="button" class="close btn btn-default"
										aria-label="Close" data-dismiss="modal">
										<span class="glyphicon glyphicon-remove-sign"
											aria-hidden="true"></span>
									</button>
                                    <p style="font-weight: bold;">Total number of proteins found: #{controlBean.proteinDTOs.size()}</p>
									<p style="color:grey; font-style: italic;">Please search the protein/gene of interest. Select Jaccard Similarity Threshold to see associated protein pairs.</p>
									<table class="table table-hover" id="geneProteinSingle">
										<thead>
											<tr>
												<th></th>
												<th>Uniprot Accession</th>
												<th>Gene Name</th>
												<th>Protein Name</th>
												<th>Jaccard Similarity Threshold<span
												class="glyphicon glyphicon-question-sign"
												data-toggle="tooltip" data-placement="top"
												title="Jaccard Similarity Threshold should be between 0 and 1. You will get associations which have this Jaccard Similarity Threshold and above." /></th>
											</tr>
										</thead>
										<tbody>
											<ui:repeat var="protein" value="#{controlBean.proteinDTOs}">
												<tr>
													<td style="text-align: center; width: 3%">
													<a href='' onclick="this.href='/tabloidproteome/dataTable.xhtml?accession=#{protein.protein1.uniprotAccession}&amp;jaccard='+document.getElementById('jaccardGeneSingle#{protein.protein1.uniprotAccession}').value">
													<span class="glyphicon glyphicon-search"
																					aria-hidden="true"></span>
													</a></td>
													<td>#{protein.protein1.uniprotAccession}</td>
													<td>
													<ui:repeat var="geneName" value="#{protein.protein1.geneNames}">
                        		<a target="_blank" href="http://www.genecards.org/cgi-bin/carddisp.pl?gene=#{geneName}">#{geneName}</a>
                     			</ui:repeat>
                     			</td>
													<td>#{protein.protein1.proteinName}</td>
													<td><input type="text" value="0.4" id="jaccardGeneSingle#{protein.protein1.uniprotAccession}" /></td>
												</tr>
											</ui:repeat>
										</tbody>
									</table>
								</div>
								<div class="modal-footer">
									<button type="button" class="btn btn-default"
										data-dismiss="modal">Close</button>
								</div>
							</div>
						</div>
					</div>
				</h:panelGroup>
				<input type="button" id="btnprotein2" data-toggle="modal"
					data-target="#proteins2" style="display: none;"></input>
				<h:panelGroup layout="block" id="proteinPanel2">
					<div class="modal fade" tabindex="-1" role="dialog" id="proteins2"
						aria-hidden="true">
						<div class="modal-dialog-lg" role="document">

							<div class="modal-content">
								<div class="modal-body">
									<button type="button" class="close" data-dismiss="modal"
										aria-label="Close">
										<span aria-hidden="true">&#xA0;</span>
									</button>
                                    <p style="font-weight: bold;">Total number of protein pairs found: #{controlBean.proteinDTOs.size()}</p>
									<p style="color:grey; font-style: italic;">Please select the protein/gene pair of interest</p>
									<table class="table table-hover" id="geneProteinDouble">
										<thead>
											<tr>
												<th></th>
												<th>1st Uniprot Accession</th>
												<th>1st Gene Name</th>
												<th>1st Protein Name</th>
												<th>2nd Uniprot Accession</th>
												<th>2nd Gene Name</th>
												<th>2nd Protein Name</th>
												<th></th>
											</tr>
										</thead>
										<tbody>
											<ui:repeat var="protein" value="#{controlBean.proteinDTOs}">
												<tr>
													<td style="text-align: center; width: 3%">
													<a href='' onclick="this.href='/tabloidproteome/dataTable.xhtml?accession1=#{protein.protein1.uniprotAccession}&amp;accession2=#{protein.protein2.uniprotAccession}&amp;jaccard=#{protein.associate[0].jaccSimScore}'">
													<span class="glyphicon glyphicon-search"
																					aria-hidden="true"></span>
													</a></td>
													<td>#{protein.protein1.uniprotAccession}</td>
													<td>
													<ui:repeat var="geneName" value="#{protein.protein1.geneNames}">
                        		<a target="_blank" href="http://www.genecards.org/cgi-bin/carddisp.pl?gene=#{geneName}">#{geneName}</a>
                     			</ui:repeat>
                     			</td>
													<td>#{protein.protein1.proteinName}</td>
													<td>#{protein.protein2.uniprotAccession}</td>
													<td>
													<ui:repeat var="geneName" value="#{protein.protein2.geneNames}">
                        		<a target="_blank" href="http://www.genecards.org/cgi-bin/carddisp.pl?gene=#{geneName}">#{geneName}</a>
                     			</ui:repeat>
                     			</td>
													<td>#{protein.protein2.proteinName}</td>
													<td>#{protein.associate[0].jaccSimScore}</td>
												</tr>
											</ui:repeat>
										</tbody>
									</table>
								</div>
								<div class="modal-footer">
									<button type="button" class="btn btn-default"
										data-dismiss="modal">Close</button>
								</div>
							</div>
						</div>
					</div>
				</h:panelGroup>
			</h:form>
		</div>
		<div id="footer">
          <div class="container">
            <div class="row">
              <div class="col-sm-9">
                <p class="text-muted credit">SUPPORTED BY</p>
                <p class="text-muted credit">
                  <a target="_blank" href="https://compomics.com" > 
                    <img border="0" src="/tabloidproteome/resources/images/compOmics_logo.png" width="90px" height="46px" />
                   </a>&#160;
                  <a target="_blank" href="http://www.crl-mappit.be/" style="padding-left: 15px"> 
                    <img border="0" src="/tabloidproteome/resources/images/cytokineLogo.png" width="100px" height="38px" />
                  </a>&#160;&#160;
                  <a target="_blank" href="http://www.vib.be" style="padding-left: 15px;"> 
                    <img border="0" src="/tabloidproteome/resources/images/VIBLogo.png" width="84px" height="50px"/>
                  </a>&#160;
                  <a target="_blank" href="http://www.ugent.be/en"> 
                    <img border="0" src="/tabloidproteome/resources/images/ugent-logo.png" width="86px" height="67px" />
                  </a>
                  <a target="_blank" href="https://www.elixir-belgium.org/"> 
                    <img border="0" src="/tabloidproteome/resources/images/elixir.png" width="79px" height="57px" />
                  </a>
                  <a target="_blank" href="https://erc.europa.eu/"> 
                    <img border="0" src="/tabloidproteome/resources/images/erc.png" width="79px" height="79px" />
                  </a>
               </p>
            </div>
            <div class="col-sm-1">
              <p class="credit" style="margin-bottom: 15px;"><a href="/tabloidproteome/information.xhtml" class="text-muted">Information</a></p>
              <p class="credit" style="margin-bottom: 15px;"><a href="/tabloidproteome/information.xhtml#about" class="text-sub">About</a></p>
              <p class="credit" style="margin-bottom: 15px;"><a href="/tabloidproteome/information.xhtml#version" class="text-sub">Version</a></p>
              <p class="credit"><a href="/tabloidproteome/information.xhtml#licence" class="text-sub">Licence</a></p>
            </div>
            <div class="col-sm-1">
              <p class="credit" style="margin-bottom: 15px;"><a href="/tabloidproteome/data.xhtml" class="text-muted">Data</a></p>
              <p class="credit" style="margin-bottom: 15px;"><a href="/tabloidproteome/data.xhtml#statistics" class="text-sub">Statistics</a></p>
              <p class="credit" style="margin-bottom: 15px;"><a href="/tabloidproteome/data.xhtml#resources" class="text-sub">Credits &#38; Resources</a></p>
            </div>
            <div class="col-sm-1">
              <p class="credit" style="margin-bottom: 15px;"><a href="/tabloidproteome/help.xhtml" class="text-muted">Help</a></p>
              <p class="credit" style="margin-bottom: 15px;"><a href="/tabloidproteome/help.xhtml#documentation" class="text-sub">Documentation</a></p>
              <p class="credit"><a href="/tabloidproteome/help.xhtml#contact" class="text-sub">Contact</a></p>
            </div>
          </div>
        </div>
      </div>
	</div>

</body>

</html>