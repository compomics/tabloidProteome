<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:h="http://xmlns.jcp.org/jsf/html"
 xmlns:p="http://primefaces.org/ui" >
<f:metadata>
  <f:event listener="#{visualisationBean.load2}" type="preRenderView" />
</f:metadata>
<h:head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1, maximum-scale=1" />
  <meta name="description" content="" />
  <meta name="author" content="" />

  <title>Tabloid Proteome</title>

  <!-- Bootstrap Core CSS -->
  <link href="/tabloidproteome/resources/css/bootstrap.min.css" rel="stylesheet" />

  <!-- Custom CSS -->
  <link href="/tabloidproteome/resources/css/bootstrap.css" rel="stylesheet" />
  
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/9.9.0/css/bootstrap-slider.css"/>  

  <script src="http://code.jquery.com/jquery-2.1.4.min.js" type="text/javascript"></script>


  <link href="/tabloidproteome/resources/css/custom.css" rel="stylesheet" />
  <link href="/tabloidproteome/resources/css/sticky-footer.css" rel="stylesheet" />
  <link href="/tabloidproteome/resources/css/bootstrap-table-expandable.css" rel="stylesheet" />

  <!-- Bootstrap Core JavaScript -->
  <script src="/tabloidproteome/resources/js/bootstrap.min.js"></script>
  <script src="/tabloidproteome/resources/js/bootstrap-table-expandable.js"></script>
  <script src ="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/9.9.0/bootstrap-slider.js"></script>
  
  <style>
    body {
	 padding-top: 70px;
	 /* Required padding for .navbar-fixed-top. Remove if using .navbar-static-top. Change if height of navigation changes. */
    } 
    rect {
        fill: none;
        pointer-events: all;
    }

    .link {
        stroke: #999;
    }
    circle.node {
        stroke: #fff;
        stroke-width: 3.5px;
    }
    path {
        fill: #D3D3D3;
        stroke: white;
    }

    #tooltip1 {
        position: absolute;
        height: 30px;
        padding: 0px;
        margin :0px;
        border: 1px solid 	#E0E0E0;
        overflow: hidden;
        bottom: 0px;
        text-align: center;
    }

    #tooltip1 p {
        font-family: sans-serif;
        font-size: 16px;
        margin :0px;
        margin-top: 4px;
    }  
    #ex1Slider .slider-selection {
            background: #e2e0e0;
        }

    #threshold {
            color: #1ABC9C;
            text-align:center;
            font-style: italic;
            font-size: 14px;
            font-family: "Helvetica";
    }
  </style>
  <script src="http://d3js.org/d3.v3.min.js"></script>
  
      <script>
      	var dataNodes = [],
      		dataLinks = [];
  		var data = "";
  		var preNode = "";
  		var node ="", link="";
  		var svg = "";
  		var force= "";
  		var width = "", height = "";
      $(function(){
    	  $("#ex8").slider();
    	  $("#tooltip1").width($("#cy").width()) ;
    	  alert($("#graphJson").val());
    	  width = $("#cy").width(),
          height = $("#cy").height();
		  data = jQuery.parseJSON($("#graphJson").val());
		  
    	  for (var i=0; i &lt; data.proteins.length; ++i) {
              dataNodes.push(data.proteins[i]);
          }
          for (var i=0; i &lt; data.links.length; ++i) {

              if (data.links[i].associate[0].jaccSimScore &gt; 0.399) {
            	  dataLinks.push(data.links[i]);
              }
          }
          createForce();
          createSVG();
      	  restart();     
      });
      
      function createForce(){
    	  force = d3.layout.force()
          .size([width, height])
          .nodes(dataNodes)
          .links(dataLinks)
          .linkDistance(100)
          .charge(-60)
          .on("tick", tick);
      }
      
      function createSVG(){
    	  svg = d3.select("#cy").append("svg")
         	.attr("width", width)
         	.attr("height", height)

    	  svg.append("rect")
        .attr("width", width)
        .attr("height", height);

        node = svg.selectAll(".node"),
        link = svg.selectAll(".link");
      }
      
      function clicked(d, i) {
    	  
    	  passNodeToJSFManagedBean ([ {
              name : 'selectedNode',
              value : d.uniprotAccession
             }
           ]);
      }
      
      function addNewNodes(){
    	  
    	  var th = $("#ex8").val() - 0.001;
    	  data = jQuery.parseJSON($("#graphJson").val());
    	  alert(data.proteins.length);
    	  for (var i=0; i &lt; data.proteins.length; ++i) {
              dataNodes.push(data.proteins[i]);
          }
          for (var i=0; i &lt; data.links.length; ++i) {
              if (data.links[i].associate[0].jaccSimScore &gt; th) {
            	  dataLinks.push(data.links[i]);
              }
          }
    	  
          restart();
      }

      function tick() {
          link.attr("x1", function(d) { return d.source.x; })
              .attr("y1", function(d) { return d.source.y; })
              .attr("x2", function(d) { return d.target.x; })
              .attr("y2", function(d) { return d.target.y; });

          node.attr("cx", function(d) { return d.x; })
              .attr("cy", function(d) { return d.y; });
      }

      

      function dragstart(d) {
          d3.select(this).classed("fixed", d.fixed = true);
      }


      function appendRingToNode(node) {
          var path = svg.selectAll("path");
          if(path != ""){
              path.remove();
              svg.selectAll("g.slice").remove();
          }
          if(preNode != node){
              var datapie = [
                  {"label":"expand", "value":1, "icon": "\uF055", "message":"Expand the child nodes"},
                  {"label":"info", "value":1, "icon": "\uF05A", "message":"Click here for more information about the protein"},
                  {"label":"collapse", "value":1, "icon": "\uF056", "message":"Collapse the child nodes"}
              ];


              var vis = svg.data([datapie]).attr("width", width).attr("height", height).append("svg:g").attr("transform", "translate(" + node.x + "," + node.y + ")");
              var pie = d3.layout.pie().value(function(d){return d.value;});

              // declare an arc generator function
              var arc = d3.svg.arc().outerRadius(40).innerRadius(17);

              // select paths, use arc generator to draw
              var arcs = vis.selectAll("g.slice").data(pie).enter().append("svg:g").attr("class", "slice");
              arcs.append("svg:path")
                  .attr("d", function (d) {
                      return arc(d);
                  });


              // add the image
              arcs.append('text')
                  .attr("transform", function(d){
                      return "translate(" + arc.centroid(d)[0] + ", "+ (arc.centroid(d)[1]+7)+ ")";
                  })
                  .attr('text-anchor', 'middle')
                  .attr('font-family', 'FontAwesome')
                  .attr('font-size', function(d) { return 20+'px'} )
                  .text(function(d) { return  d.data.icon })
                  .style("fill", "gray");
              arcs
                  .on("mouseover", function(d) {

                      //Update the tooltip position and value
                      d3.select("#tooltip1")
                          .select("#value")
                          .text(d.data.message);

                  })
                  .on("mouseout", function() {

                      //Hide the tooltip
                      d3.select("#tooltip1").select("#value").text("");

                  })
                  .on("click",function(d) {

                      if(d.data.label == "expand"){
                          clicked(node, node.index);
                      }else if(d.data.label == "info"){
                    	  $('#info_acc').html($("<a></a>").attr("href", 'http://www.uniprot.org/uniprot/' +node.uniprotAccession )
                    			  .attr("target", "_blank")
                    			  .text(node.uniprotAccession));
                    	  $('#info_status').html(node.uniprotStatus)
                    	  $('#info_name').html(node.proteinName)
                    	  $('#info_entryName').html(node.uniprotEntryName)
                    	  $('#info_geneName').html(node.geneNames.join(","))
                    	  $('#info_geneId').html(node.geneIds)
                    	  $('#info_species').html(node.species)
                    	  $('#info_length').html(node.length)
                    	  
                    	  document.getElementById('btnproteinDetail').click(); 
                      }

                  })
              preNode = node;
          }else{
              preNode = "";
          }

      }


  		
      function restart() {
        var drag = force.drag()
            .on("dragstart", dragstart);
			
        force.start();

        link = link.data(dataLinks);

        link.enter().insert("line", ".node")
            .attr("class", "link")
            .style("stroke-width", function(d) { return (d.associate[0].jaccSimScore * 10) +  "px"; })
            .on("mouseover", function(d) {
            	
                //Update the tooltip position and value
                d3.select("#tooltip1")
                    .select("#value")
                    .text(d.associate[0].jaccSimScore)
                    .style("font-size", "13px");

            })
            .on("mouseout", function() {

                //Hide the tooltip
                d3.select("#tooltip1").select("#value").text("");

            })
            .on("click", addDetails);
        link.exit()
            .remove();
        
        node = node.data(dataNodes);

        node.enter().append("circle")
            .attr("class", "node")
            .attr("r",function (d) {
                if(d.group == 0){
                    return "15";
                }else{
                    return "10";
                }})
            .style("fill", function (d) {
                if(d.group == 0){
                    return "#22aa99";
                }else{
                    return "darkorange";
                }
            })
            .style("visibility", function (d) {
  			if( d.weight == 0 ){
  				return "hidden";
  			}else{
  				return "visible";
  			}
          	
			  })
            .on("click", appendRingToNode)
            .on("mouseover", function(d) {

                //Update the tooltip position and value
                d3.select("#tooltip1")
                    .select("#value")
                    .text(d.uniprotAccession +" / " + d.geneNames)
                    .style("font-size", "13px");

            })
            .on("mouseout", function() {

                //Hide the tooltip
                d3.select("#tooltip1").select("#value").text("");

            })
            .call(drag);

        node.exit()
            .remove();

        
 
    }
      
      function addDetails(link){
    	$('#divRelations').css("display", "block");
    	$('#proteinTitle').html(link.source.uniprotAccession + " and " + link.target.uniprotAccession);
      	$('#rel_jacc').html(link.associate[0].jaccSimScore);
      	$('#rel_interact').html(link.associate[0].interact);
      	$('#rel_paralog').html(link.associate[0].paralog);
      	$("#intactTable tr").remove();
      	for(var i in link.associate){
      		var newtr = $('<tr></tr>').append(
     	            $('<td></td>').text(link.associate[i].intactConfidence).width('12%'),
     	            $('<td></td>').text(link.associate[i].intactDetection).width('26%'),
     	            $('<td></td>').text(link.associate[i].intactInteractionType).width('26%')
     	        );
      		 $('#intactTable').append(newtr);
      	}
      	$("#projectTable tr").remove();
      	for(var i in link.projects){
      		var newtr = $('<tr></tr>').append(
     	            $('<td></td>').text(parseInt(i)+1).width('5%'),
     	            $('<td></td>').html($("<a></a>").attr("href", 'https://www.ebi.ac.uk/pride/archive/projects/' +link.projects[i].projectAccession )
              			  .attr("target", "_blank").text(link.projects[i].projectAccession)).width('12%'),
     	            $('<td></td>').text(link.projects[i].keywords).width('25%'),
     	            $('<td></td>').text(link.projects[i].tissue).width('20%'),
     	            $('<td></td>').text(link.projects[i].tags).width('15%'),
     	            $('<td></td>').text(link.projects[i].instruments).width('23%')
     	        );
      		 $('#projectTable').append(newtr);
      	}
      	$("#pathwayTable tr").remove();
      	for(var i in link.pathWays){
      		var newtr = $('<tr></tr>').append(
     	            $('<td></td>').text(parseInt(i)+1).width('5%'),
     	            $('<td></td>').html($("<a></a>").attr("href", 'http://www.reactome.org/PathwayBrowser/#/' +link.pathWays[i].reactomeAccession )
              			  .attr("target", "_blank").text(link.pathWays[i].reactomeAccession)).width('25%'),
     	            $('<td></td>').text(link.pathWays[i].pathwayName).width('50%'),
     	            $('<td></td>').text(link.pathWays[i].evidenceCode).width('20%')
     	        );
      		 $('#pathwayTable').append(newtr);
      	}
      	$("#complexTable tr").remove();
      	for(var i in link.complexes){
      		var newtr = $('<tr></tr>').append(
     	            $('<td></td>').text(parseInt(i)+1).width('3%'),
     	            $('<td></td>').html($("<a></a>").attr("href", 'http://mips.helmholtz-muenchen.de/corum/' +link.complexes[i].corumId )
              			  .attr("target", "_blank").text(link.complexes[i].corumId)).width('6%'),
     	            $('<td></td>').text(link.complexes[i].complexName).width('14%'),
     	            $('<td></td>').text(link.complexes[i].complexComment).width('20%'),
     	            $('<td></td>').text(link.complexes[i].cellLine).width('7%'),
     	            $('<td></td>').text(link.complexes[i].diseaseComment).width('14%'),
     	            $('<td></td>').text(link.complexes[i].subUnitComment).width('11%'),
     	            $('<td></td>').html($("<a></a>").attr("href", 'https://www.ncbi.nlm.nih.gov/pubmed?cmd=search&amp;term=' +link.complexes[i].pubmedId )
               			  .attr("target", "_blank").text(link.complexes[i].pubmedId)).width('7%'),
               	    $('<td></td>').text(link.complexes[i].purificationMethod).width('18%')
     	        );
      		 $('#complexTable').append(newtr);
      	}
      	$("#mfTable tr").remove();
      	for(var i in link.mf){
      		var newtr = $('<tr></tr>').append(
     	            $('<td></td>').text(parseInt(i)+1).width('5%'),
     	            $('<td></td>').html($("<a></a>").attr("href", 'http://www.ebi.ac.uk/QuickGO/GTerm?id=' +link.mf[i].id )
              			  .attr("target", "_blank").text(link.mf[i].id)).width('45%'),
     	            $('<td></td>').text(link.mf[i].name).width('50%')
     	        );
      		 $('#mfTable').append(newtr);
      	}
      	$("#bpTable tr").remove();
      	for(var i in link.bp){
      		var newtr = $('<tr></tr>').append(
     	            $('<td></td>').text(parseInt(i)+1).width('5%'),
     	            $('<td></td>').html($("<a></a>").attr("href", 'http://www.ebi.ac.uk/QuickGO/GTerm?id=' +link.bp[i].id )
              			  .attr("target", "_blank").text(link.bp[i].id)).width('45%'),
     	            $('<td></td>').text(link.bp[i].name).width('50%')
     	        );
      		 $('#bpTable').append(newtr);
      	}
      	$("#ccTable tr").remove();
      	for(var i in link.cc){
      		var newtr = $('<tr></tr>').append(
     	            $('<td></td>').text(parseInt(i)+1).width('5%'),
     	            $('<td></td>').html($("<a></a>").attr("href", 'http://www.ebi.ac.uk/QuickGO/GTerm?id=' +link.cc[i].id )
              			  .attr("target", "_blank").text(link.cc[i].id)).width('45%'),
     	            $('<td></td>').text(link.cc[i].name).width('50%')
     	        );
      		 $('#ccTable').append(newtr);
      	}
      	$("#diseaseTable tr").remove();
      	for(var i in link.diseases){
      		var newtr = $('<tr></tr>').append(
     	            $('<td></td>').text(parseInt(i)+1).width('5%'),
     	            $('<td></td>').html($("<a></a>").attr("href", 'http://www.disgenet.org/web/DisGeNET/menu/search?0' +link.diseases[i].disgenetId )
              			  .attr("target", "_blank").text(link.diseases[i].disgenetId)).width('45%'),
     	            $('<td></td>').text(link.diseases[i].diseaseName).width('50%')
     	        );
      		 $('#diseaseTable').append(newtr);
      	}

      }
      function threshold(threshold) {
		 var th = threshold - 0.001;
          dataLinks = [];
          
          for (var i = 0; i &lt; data.links.length; i++) {
              if (data.links[i].associate[0].jaccSimScore &gt; th) {dataLinks.push(data.links[i]);}
          }

          d3.select("svg")
              .remove();
          createForce();
          createSVG();
          restart();
    }
      window.onbeforeunload = function () {
    	  window.scrollTo(0, 0);
    	}
   
      
      function displayPanel() {
          document.getElementById('divRelations').style.display = 'block';
          return false;
      }
      </script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-96922635-1', 'auto');
  ga('send', 'pageview');

</script>
</h:head>

<body>
    <div id="wrapper">
    <!-- Navigation -->
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation" >
        <div class="container" id="header">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a href="/tabloidproteome/search.xhtml" class="navbar-left"><img src="/tabloidproteome/resources/images/logo.png" style="width:70px; height: 54px;"/></a>
                <a class="navbar-brand" href="/tabloidproteome/search.xhtml">Tabloid Proteome</a>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav pull-right">
                    <li>
                        <a href="/tabloidproteome/search.xhtml">Search</a>
                    </li>
                    <li>
                        <a href="/tabloidproteome/dataTable.xhtml">Data Table</a>
                    </li>
                    <li>
                        <a href="/tabloidproteome/help.xhtml">Help</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <!-- Page Content -->
    <div class="container" id="content">
        
      <h:form id="graphForm">
        
        <p:remoteCommand name="passNodeToJSFManagedBean" id="passNodeToJSFManagedBeancmd" action="#{visualisationBean.getNode}" process="@this"
          oncomplete="addNewNodes();" update="graphForm:graphJson"/>
        <h:inputHidden id="graphJson" value="#{visualisationBean.jsonString}"/>
        <h1></h1>
        <div class="row">
        	<div class="col-md-6">
        		<div class="alert alert-info alert-dismissible" role="alert" >
          		<div style="margin-bottom:15px;"><button type="button" class="close" data-dismiss="alert" aria-label="Close" ><span aria-hidden="true">&#215;</span></button></div>
          		Click on the node/edge for more information.
        		</div>
        	</div>
        	<div class="col-md-1">
        		<button type="button" id="zoom-in"  class="btn btn-default" ><span class="glyphicon glyphicon-plus" data-toggle="tooltip" data-placement="top"
												title="zoom-in" aria-hidden="true"></span></button>
        		<button type="button" id="zoom-out" class="btn btn-default" ><span class="glyphicon glyphicon-minus" data-toggle="tooltip" data-placement="top"
												title="zoom-out" aria-hidden="true"></span></button>

        	</div>
            <div class="col-md-5">
            <h4 id="threshold" style="float: left;"> Link threshold:
                  <input id="ex8" data-slider-id='ex1Slider' type="text" data-slider-min="0" data-slider-max="1" data-slider-step="0.05"
                    data-slider-value="0.4" onchange="threshold(this.value);"/>
                </h4>
            </div>
        </div>
        
        <div class="row">
        
          <div class="col-sm-10">
            <div id="cy">
            <div id="tooltip1">
              <p><span id="value"></span></p>
            </div>
            </div>
            
          </div>
          <div class="col-sm-2">
            <a download="graph.png" id="click-me"><i class="glyphicon glyphicon-cloud-download"></i> Download Graph</a>
            <button type="button" id="geneView" class="btn btn-default" style="width: 100px; display: none;" onclick="openGeneView();">GeneView</button>
            <br/>
            <button type="button" id="proteinView" class="btn btn-default" style="width:100px; display: none;" onclick="openProteinView();">ProteinView</button>
            <h4>Edges</h4>
            <p> <img border="0" src="/tabloidproteome/resources/images/black.png" width="68px" height="10px" /> Jaccard Similarity >= 0.4</p>
            <p> <img border="0" src="/tabloidproteome/resources/images/gray.png" width="68px" height="10px" /> Jaccard Similarity &#60; 0.4</p>
            <p> <img border="0" src="/tabloidproteome/resources/images/purple.png" width="68px" height="10px" /> Interaction</p>
            <p> <img border="0" src="/tabloidproteome/resources/images/blue.png" width="68px" height="10px" /> Paralog</p>
            <p> <img border="0" src="/tabloidproteome/resources/images/green.png" width="68px" height="10px" /> Pathway</p>
            <p> <img border="0" src="/tabloidproteome/resources/images/orange.png" width="68px" height="10px" /> Disease</p>
 
          </div>
          
          
        </div>
        
        <input type="button" id="btnproteinDetail" data-toggle="modal" data-target="#proteinDetails" style="display: none;"></input>
        <h:panelGroup layout="block" id="proteinDetailPanel">
          <div class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true"
            id="proteinDetails">
            <div class="modal-dialog modal-lg">
              <div class="modal-content">
                <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal">&#xd7;</button>
                  <h4 class="modal-title text-center">Protein Details</h4>
                </div>
                <div class="modal-body">
                <table class="table table-hover">
                  <tr>
                    <td width="20%">Uniprot Accession :</td>
                    <td id="info_acc"/>
                  </tr>
                  <tr>
                    <td width="20%">Uniprot Status :</td>
                    <td id="info_status"/>
                  </tr>
                  <tr>
                    <td width="20%">Protein Name :</td>
                    <td id="info_name"/>
                  </tr>
                  <tr>
                    <td width="20%">Protein Entry Name :</td>
                    <td id="info_entryName"/>
                  </tr>
                  <tr>
                    <td width="20%">Gene Name :</td>
                    <td id="info_geneName"/>  
                  </tr>
                  <tr>
                    <td width="20%">Entrez Gene Id :</td>
                    <td id="info_geneId"/>
                      
                  </tr>
                  <tr>
                    <td width="20%">Species :</td>
                    <td id="info_species"/>
                  </tr>
                  <tr>
                    <td width="20%">Length :</td>
                    <td id="info_length"/>
                  </tr>
                </table>
                </div>
              </div>
            </div>
          </div>
        </h:panelGroup>

        <p:remoteCommand name="passEdgeToJSFManagedBean" id="passEdgeToJSFManagedBeancmd" action="#{visualisationBean.getEdge}" process="@this" 
            oncomplete="displayPanel();" update="graphForm:relationsPanel" />
          <h:panelGroup layout="block" id="relationsPanel">
          
          <script>
          jQuery(function($) {
              $('.panel-heading span.clickable').on("click", function(e) {
                if ($(this).hasClass('panel-collapsed')) {
                  // expand the panel
                  $(this).parents('.panel').find('.panel-body').slideDown();
                  $(this).removeClass('panel-collapsed');
                  $(this).find('i').removeClass('glyphicon-chevron-down').addClass('glyphicon-chevron-up');
                } else {
                  // collapse the panel
                  $(this).parents('.panel').find('.panel-body').slideUp();
                  $(this).addClass('panel-collapsed');
                  $(this).find('i').removeClass('glyphicon-chevron-up').addClass('glyphicon-chevron-down');
                }
              });
            });
          </script>
          
          <div class="relations" style="display: none" id="divRelations">
            <h1></h1>
            <h4 style="text-align: center;" id="proteinTitle"/>
            
            <div class="panel panel-default" style="border:none;">
                <div class="row" style="margin-top: 3px;">
                  <div class="col-sm-2">
                    <label>Jacc Similarity threshold : </label> <p id="rel_jacc"/>
                  </div>
                  <div class="col-sm-2">
                    <label>Interaction : </label> <p id="rel_interact"/>
                  </div>
                  <div class="col-sm-2">
                    <label>Ensembl Paralog : </label> <p id="rel_paralog"/>
                  </div>
              </div>
            </div>
            
            <div class="panel panel-default">
              <div class="panel-heading">
                <span class="clickable panel-collapsed">
                    <h3 class="panel-title">
                    	Interactions <i class="pull-right glyphicon glyphicon-chevron-down"/>
                    </h3>
                </span>
              </div>
              <div class="panel-body panel-collapse collapse ">
                <div class="row" style="margin-top: 3px;">
                  <div class="col-sm-2">
                    <label>IntAct : </label> <p id="rel_intact"/>
                  </div>
                  <div class="col-sm-2">
                    <label>BioGRID : </label> <p id="rel_bioGrid"/>
                  </div>
                </div>
                <div class="wrap">
                  <table class="head ">
                    <tr>
                      <th style="width: 12%;">Intact Id</th>
                      <th style="width: 12%;">Intact Confidence</th>
                      <th style="width: 19%;">Intact Detection</th>
                      <th style="width: 19%;">Intact Interaction Type</th>
                    </tr>
                  </table>
                  <div class="inner_table">
<<<<<<< HEAD
                    <table id="intactTable"></table>
=======
                    <table>
                      <ui:repeat var="associate" value="#{visualisationBean.association}">
                        <tr>
                          <td style="width: 12%;"><a target="_blank" href="https://www.ebi.ac.uk/intact/query/#{associate.intactId}">#{associate.intactId}</a></td>
                          <td style="width: 12%;">#{associate.intactConfidence}</td>
                          <td style="width: 26%;">#{associate.intactDetection}</td>
                          <td style="width: 26%;">#{associate.intactInteractionType}</td>
                        </tr>
                      </ui:repeat>
                    </table>
>>>>>>> master
                  </div>
                </div>
              </div>
            </div>
            <div class="panel panel-default ">
                  <div class="panel-heading">
                    <span class="clickable panel-collapsed">  	
                    	<h3 class="panel-title">
                    		Common Projects <i class="pull-right glyphicon glyphicon-chevron-down"/>
                    	</h3>
                    </span>
                  </div>
                  <div class="panel-body panel-collapse collapse" >
                    <div class="wrap">
                      <table class="head ">
                        <tr>
                          <th style="width: 5%;">No</th>
                          <th style="width: 12%;">Project Accession</th>
                          <th style="width: 25%;">Keywords</th>
                          <th style="width: 20%;">Tissue</th>
                          <th style="width: 15%;">Tags</th>
                          <th style="width: 23%;">Instruments</th>
                        </tr>
                      </table>
                      <div class="inner_table">
                        <table id="projectTable"></table>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="panel panel-default ">
                  <div class="panel-heading">
                    <span class="clickable panel-collapsed">
                    	<h3 class="panel-title">
                    		Pathways <i class="pull-right glyphicon glyphicon-chevron-down"/>
                    	</h3>
                    </span>
                  </div>
                  <div class="panel-body panel-collapse collapse" >
                    <div class="wrap">
                      <table class="head ">
                        <tr>
                          <th style="width: 5%;">No</th>
                          <th style="width: 25%;">Reactome Accession</th>
                          <th style="width: 50%;">Pathway Name</th>
                          <th style="width: 20%;">Evidence Code</th>
                        </tr>
                      </table>
                      <div class="inner_table">
                        <table id="pathwayTable"></table>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="panel panel-default ">
                  <div class="panel-heading">
                    <span class="clickable panel-collapsed">
                    	<h3 class="panel-title">
                    		Complexes <i class="pull-right glyphicon glyphicon-chevron-down"/>
                    	</h3>
                    </span>
                  </div>
                  <div class="panel-body panel-collapse collapse" >
                    <div class="wrap">
                      <table class="head ">
                        <tr>
                          <th style="width: 3%;">No</th>
                          <th style="width: 6%;">Corum Id</th>
                          <th style="width: 14%;">Complex Name</th>
                          <th style="width: 20%;">Complex Comment</th>
                          <th style="width: 7%;">Cell Line</th>
                          <th style="width: 14%;">Disease Comment</th>
                          <th style="width: 11%;">Subunit Comment</th>
                          <th style="width: 7%;">Pubmed Id</th>
                          <th style="width: 18%;">Purification Method</th>
                        </tr>
                      </table>
                      <div class="inner_table">
                        <table id="complexTable"></table>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="panel panel-default ">
                  <div class="panel-heading">
                    <span class="clickable panel-collapsed">
                    	<h3 class="panel-title">
                    		GO <i class="pull-right glyphicon glyphicon-chevron-down"/>
                    	</h3>
                    </span>
                  </div>
                  <div class="panel-body panel-collapse collapse" >
                    <div class="wrap">
                      <h4>Molecular Function</h4>
                      <table class="head ">
                        <tr>
                          <th style="width: 5%;">No</th>
                          <th style="width: 45%;">MF Id</th>
                          <th style="width: 50%;">MF Name</th>
                        </tr>
                      </table>
                      <div class="inner_table">
                        <table id="mfTable"></table>
                        </div>
                      </div>
                      <div class="wrap">
                      <h4>Biological Process</h4>
                        <table class="head ">
                          <tr>
                            <th style="width: 5%;">No</th>
                            <th style="width: 45%;">BP Id</th>
                            <th style="width: 50%;">BP Name</th>
                          </tr>
                        </table>
                        <div class="inner_table">
                          <table id="bpTable"></table>
                        </div>
                      </div> 
                      <div class="wrap">
                      <h4>Cellular Component</h4>
                        <table class="head ">
                          <tr>
                            <th style="width: 5%;">No</th>
                            <th style="width: 45%;">CC Id</th>
                            <th style="width: 50%;">CC Name</th>
                          </tr>
                        </table>
                        <div class="inner_table">
                          <table id="ccTable"></table>
                        </div>
                      </div>                  
                  </div>
                </div>
                <div class="panel panel-default ">
                  <div class="panel-heading">
                    <span class="clickable panel-collapsed">
                    	<h3 class="panel-title">
                    		Diseases <i class="pull-right glyphicon glyphicon-chevron-down"/>
                    	</h3>
                    </span>
                  </div>
                  <div class="panel-body panel-collapse collapse" >
                    <div class="wrap">
                      <table class="head ">
                        <tr>
                          <th style="width: 5%;">No</th>
                          <th style="width: 45%;">Disgenet Id</th>
                          <th style="width: 50%;">Disease Name</th>
                        </tr>
                      </table>
                      <div class="inner_table">
                        <table id="diseaseTable"></table>
                      </div>
                    </div>
                  </div>
                </div>
          </div>
          </h:panelGroup>
      </h:form>
      
    </div>
    <!-- /.container -->

        <div id="footer">
          <div class="container">
            <div class="row">
              <div class="col-sm-9">
                <p class="text-muted credit">SUPPORTED BY</p>
                <p class="text-muted credit">
                  <a target="_blank" href="https://compomics.com" > 
                    <img border="0" src="/tabloidproteome/resources/images/compOmics_logo.png" width="90px" height="46px" />
                   </a>&#160;
                  <a target="_blank" href="http://www.crl-mappit.be/" style="padding-left: 15px"> 
                    <img border="0" src="/tabloidproteome/resources/images/cytokineLogo.png" width="100px" height="38px" />
                  </a>&#160;&#160;
                  <a target="_blank" href="http://www.vib.be" style="padding-left: 15px;"> 
                    <img border="0" src="/tabloidproteome/resources/images/VIBLogo.png" width="84px" height="50px"/>
                  </a>&#160;
                  <a target="_blank" href="http://www.ugent.be/en"> 
                    <img border="0" src="/tabloidproteome/resources/images/ugent-logo.png" width="86px" height="67px" />
                  </a>
                  <a target="_blank" href="https://www.elixir-belgium.org/"> 
                    <img border="0" src="/tabloidproteome/resources/images/elixir.png" width="79px" height="57px" />
                  </a>
                  <a target="_blank" href="https://erc.europa.eu/"> 
                    <img border="0" src="/tabloidproteome/resources/images/erc.png" width="79px" height="79px" />
                  </a>
               </p>
            </div>
            <div class="col-sm-1">
              <p class="credit" style="margin-bottom: 15px;"><a href="/tabloidproteome/information.xhtml" class="text-muted">Information</a></p>
              <p class="credit" style="margin-bottom: 15px;"><a href="/tabloidproteome/information.xhtml#about" class="text-sub">About</a></p>
              <p class="credit" style="margin-bottom: 15px;"><a href="/tabloidproteome/information.xhtml#version" class="text-sub">Version</a></p>
              <p class="credit"><a href="/tabloidproteome/information.xhtml#reference" class="text-sub">Reference</a></p>
            </div>
            <div class="col-sm-1">
              <p class="credit" style="margin-bottom: 15px;"><a href="/tabloidproteome/data.xhtml" class="text-muted">Data</a></p>
              <p class="credit" style="margin-bottom: 15px;"><a href="/tabloidproteome/data.xhtml#statistics" class="text-sub">Statistics</a></p>
              <p class="credit" style="margin-bottom: 15px;"><a href="/tabloidproteome/data.xhtml#resources" class="text-sub">Credits &#38; Resources</a></p>
            </div>
            <div class="col-sm-1">
              <p class="credit" style="margin-bottom: 15px;"><a href="/tabloidproteome/help.xhtml" class="text-muted">Help</a></p>
              <p class="credit" style="margin-bottom: 15px;"><a href="/tabloidproteome/help.xhtml#faq" class="text-sub">FAQ</a></p>
              <p class="credit" style="margin-bottom: 15px;"><a href="/tabloidproteome/help.xhtml#userGuide" class="text-sub">User Guide</a></p>
              <p class="credit"><a href="/tabloidproteome/help.xhtml#contact" class="text-sub">Contact</a></p>
            </div>
          </div>
        </div>
      </div>


 </div>
</body>

</html>
